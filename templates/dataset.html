<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--=============== FAVICON ===============-->
    <link
      rel="shortcut icon"
      href="{{ url_for('static',
      filename='img/favicon.png') }}"
      type="image/x-icon"
    />

    <!--=============== REMIXICONS ===============-->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <!--=============== CSS ===============-->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles-dataset.css') }}"
    />

    <title>5200411216 | LIPCHARE</title>
  </head>
  <body>
    <!--=============== HEADER ===============-->
    <header class="header">
      <nav class="nav container">
        <div class="nav__data">
          <a href="{{ url_for('home') }}" class="nav__logo">
            <i class="ri-apps-line"></i> LIPCHARE
          </a>

          <div class="nav__toggle" id="nav-toggle">
            <i class="ri-menu-line nav__burger"></i>
            <i class="ri-close-line nav__close"></i>
          </div>
        </div>

        <!--=============== NAV MENU ===============-->
        <div class="nav__menu" id="nav-menu">
          <ul class="nav__list">
            <li><a href="{{ url_for('home') }}" class="nav__link">Home</a></li>

            <li>
              <a href="{{ url_for('training') }}" class="nav__link">Training</a>
            </li>

            <li>
              <a href="{{ url_for('testing') }}" class="nav__link">Testing</a>
            </li>

            <li>
              <a href="{{ url_for('dataset') }}" class="nav__link">Dataset</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!--==================== MAIN ====================-->
    <main class="main">
      <h1>Dataset</h1>
      <section class="training">
        <div class="dataset-grid">
          <form
            action="{{ url_for('add') }}"
            method="post"
            enctype="multipart/form-data"
          >
            <div class="upload-card">
              <label for="input-image" class="btn-label-image">
                Select Image
              </label>
              <p id="filename-image">No image selected</p>
              <div class="input-file">
                <input
                  type="file"
                  name="input-image"
                  id="input-image"
                  accept="image/*"
                  class="btn-input"
                  onchange="updateFileNameAndShowDatatrainGrid()"
                />
                <button id="submit" class="submit" type="submit" name="submit">
                  Add
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="training-grid">
          <table>
            <thead>
              <tr>
                <th>Image</th>
                <th>Filename</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {% for image in images %}
              <tr>
                <td>
                  <img
                    src="{{ url_for('static', filename='dataset/' + image) }}"
                    alt="{{ image }}"
                    class="thumbnail"
                  />
                </td>
                <td>{{ image }}</td>
                <td>
                  <div class="button-container">
                    <a
                      class="edit-button"
                      href="{{ url_for('edit', filename=image) }}"
                      >Edit</a
                    >
                    <a
                      class="delete-button"
                      href="{{ url_for('delete', filename=image) }}"
                      href="javascript:void(0);"
                      onclick=""
                      >Delete</a
                    >
                    <script>
                      function confirmDelete(deleteUrl) {
                        var confirmation = window.confirm(
                          "Are you sure you want to delete this item?"
                        );

                        if (confirmation) {
                          window.location.href = deleteUrl; // Redirect to the delete URL if user confirms
                        } else {
                          // Do nothing if user cancels
                        }
                      }
                    </script>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </section>
    </main>
    <!--==================== FOOTER ====================-->
    <footer>
      <span class="footer-copy">
        Copyright &#169; 5200411216 Neneng Nur Sholihah. All rights reserved.
      </span>
    </footer>
    <!--=============== MAIN JS ===============-->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
